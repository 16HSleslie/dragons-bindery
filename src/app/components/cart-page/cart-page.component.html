<!-- src/app/components/cart-page/cart-page.component.html -->
<div class="cart-page">
    <div class="container">
      <h1>Your Enchanted Cart</h1>
      
      <div class="empty-cart" *ngIf="cartItems.length === 0">
        <div class="empty-cart-icon">üßô‚Äç‚ôÇÔ∏è</div>
        <p>Your magical cart is empty</p>
        <button class="btn" routerLink="/shop">Discover Enchanting Items</button>
      </div>
      
      <div class="cart-content" *ngIf="cartItems.length > 0">
        <div class="cart-items">
          <div class="cart-header">
            <div class="product-col">Product</div>
            <div class="price-col">Price</div>
            <div class="quantity-col">Quantity</div>
            <div class="total-col">Total</div>
            <div class="actions-col"></div>
          </div>
          
          <div class="cart-item" *ngFor="let item of cartItems">
            <div class="product-col">
              <div class="product-info">
                <img [src]="item.product.image" [alt]="item.product.name">
                <div class="product-details">
                  <h3>{{ item.product.name }}</h3>
                  <p>{{ item.product.description | slice:0:100 }}...</p>
                </div>
              </div>
            </div>
            
            <div class="price-col">${{ item.product.price.toFixed(2) }}</div>
            
            <div class="quantity-col">
              <div class="quantity-control">
                <button class="qty-btn" (click)="updateQuantity(item.product._id, item.quantity - 1)">-</button>
                <input type="number" [value]="item.quantity" min="1" (change)="handleQuantityChange(item.product._id, $event)">
                <button class="qty-btn" (click)="updateQuantity(item.product._id, item.quantity + 1)">+</button>
              </div>
            </div>
            
            <div class="total-col">${{ (item.product.price * item.quantity).toFixed(2) }}</div>
            
            <div class="actions-col">
              <button class="remove-btn" (click)="removeItem(item.product._id)">
                <i class="material-icons">delete</i>
              </button>
            </div>
          </div>
        </div>
        
        <div class="cart-summary">
          <h2>Cart Summary</h2>
          
          <div class="summary-row">
            <span>Subtotal:</span>
            <span>${{ cartTotal.toFixed(2) }}</span>
          </div>
          
          <div class="summary-row">
            <span>Shipping:</span>
            <span>Free</span>
          </div>
          
          <div class="summary-row total">
            <span>Total:</span>
            <span>${{ cartTotal.toFixed(2) }}</span>
          </div>
          
          <div class="cart-actions">
            <button class="btn" (click)="clearCart()">Clear Cart</button>
            <button class="btn" routerLink="/shop">Continue Shopping</button>
            <button class="btn primary" routerLink="/checkout">Proceed to Checkout</button>
          </div>
        </div>
      </div>
    </div>
  </div>